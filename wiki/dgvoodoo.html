<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Windows Tablet Wiki</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <div class="overlay" id="loadingOverlay">
    <div class="loading-container">
      <img class="loading-gif" src="loading.gif" alt="Loading">
      <p>Загрузка...</p>
    </div>
  </div>
  <div class="sidebar">
    <iframe frameborder="no" marginheight="0" marginwidth="0" id="myIframe" src="sidebar.html"></iframe>
  </div>

  <div class="content">
    <div class="header">
      <h1>Улучшаем старые игры при помощи DgVoodoo 2</h1>
    </div>

    <p>В двух словах DgVoodoo - это эмулятор старых видеокарт. Очень полезная программа, которую можно и нужно использовать не только на планшетах, но и на стационарных ПК. Она исправляет косяки старых игр и улучшает их произаводительность на современных ОС. Например игра Bloodrayne (да, можно просто скачать версию Terminal Cut, которая отлично работает сама по себе, но она весит в разы больше оригинала), она неприлично лагает, даже на минимальных настройках графики. DgVoodoo делает так, чтобы она летала на максимальных настройках графики в 60 кадров. Или игра Panzer Elite Action, в ней не крутятся гусеницы танка, а ещё она зависает после каждой выполненной миссии. DgVoodoo всё это исправляет. И последний пример - игра Mageslayer. Она умеет работать в DirectX и выглядит с ним очень красиво, но его нельзя включить в настройках на современной видеокарте, оставляя вас довольствоваться софтварным режимом в разрешении 640x480 и 16 бит цветности... DgVoodoo снова спешит на помощь и с ним можно выбрать DirectX в настройках игры и максимальное разрешение 1024х768 с цветностью 32 бита.</p>
    <p>Скачать последнюю версию программы можно <a href="#" class="load-link" data-href="http://dege.freeweb.hu/dgVoodoo2/dgVoodoo2">здесь</a>.</p>
    <img src="dgvoodoo_settings.png" alt="Настройки DgVoodoo" title="Кликните по изображению для увеличения">
    <p>Кроме того, данная программа может выступить в роли DirectX враппера, а также она умеет эмулировать 3Dfx Glide, который в те бородатые времена выглядел получше только-только зарождавшегося DirectX.</p>
    <p>Данную программу не нужно устанавливать. Всё что вам нужно, так это скопировать в папку с игрой, там где находится исполняемый файл игры, файл <i>dgVoodooCpl.exe</i> и все файлы из папки <i>MS\x86</i>. Если же вам нужно эмулировать Glide, то соответсвенно вместо папки <i>MS\x86</i> вам нужно скопировать все файлы из папки <i>3Dfx\x86</i>. Битность здесь выбирается не исходя из процессора в вашем планшете/компьютере, а исходя из битности самой игры. Далее давайте разберём настройки. Во вкладке General ничего интересного нет, там вы можете разве что настроить запуск игры в окне, выбрать нужную видеокарту если у вас ноутбук с внешней видеокартой и произвести цветокоррекцию игры, если вам это вдруг нужно. Перейдём во вкладку DirectX, но прежде всего нажмите на кнопку <b>.\</b> возле пути к конфигурационному файлу сверху, данная кнопка создаст в папке с игрой отдельный конфигурационный файл, иначе DgVoodoo будет использовать один общий конфиргурационный файл для всех игр.</p>
    <h3>Настройка DirectX в dgVoodoo</h3>
    <p><i>Disable and passthru to real DirectX</i> - отключает работу dgVoodoo, если вам нужно не удалять его файлы из папки с игрой, но нужно отключить его работу.</p>
    <p><i>Videocard</i> - здесь вы выбираете какую видеокарту нужно эмулировать. Зачастую можно оставлять всё как есть, но в случае с какими-нибудь графическими артефактами в игре попробуйте разные варианты. К примеру, в игре Resident Evil 4 сломалось освещение со стандартной видеокартой dgVoodoo Virtual 3D Accelerated Card, выбрав какую-то другую из списка стало получше, но освещение в игре всё равно было поломанным. К сожалению с некоторыми играми dgVoodoo не дружит и RE4 одна из таких игр.</p>
    <img src="re4.png" alt="Resident Evil 4 через DgVoodoo" title="Кликните по изображению для увеличения">
    <p><i>VRAM</i> - указывает какой объём видеопамяти нужно эмулировать. Зачастую стандартных 256 МБ достаточно для большинства игр, однако если игре этого будет мало, то нужно будет выбрать большее количество видеопамяти. Узнать сколько игре требуется видеопамяти можно, например, на странице данной игры в Steam, в её системных требованиях. Каким-то играм, возможно, потребуется меньше 256-ти мегабайт видеопамяти, но я таких не встречал, однако имейте это в виду.</p>
    <p><i>Texture filtering</i> - это сглаживание текстур, делает изображение чётче. Выбирайте на свой вкус.</p>
    <p><i>Resolution</i> - это разрешение. Можно не менять, а можно выбрать разрешение вашего экрана, тут снова на ваше усмотрение.</p>
    <p><i>Application controlled fullscreen/windowed state</i> - если снять эту галочку, то тогда на вкладке General вы сможете выбрать оконный режим для игры.</p>
    <p><i>Disable Alt-Enter to toggle screen state</i> - используется в случае если у игры есть свой собственный механизм переключения между полноэкранным и оконным режиимами по нажатию Alt + Enter, данная галочка включит использование собственного механизма DgVoodoo, для предотвращения конфликтов.</p>
    <p><i>Antialiasing (MSAA)</i> - это анизатропная фильтрация, она же антиаллиасинг.</p>
    <p><i>Force vSync</i> - принудительно включает вертикальную синхронизацию, даже если игра не поддерживает её. Читал что данная функция частенько ломает игры, поэтому сам не использую её. Ну и, само собой, в 2D играх это ничего не даст...</p>
    <p><i>Fast video memory access</i> - это быстрый доступ к видеопамяти. Включаю всегда, однако сам DgVoodoo говорит что использовать эту функцию следует только если вы сталкиваетесь с низкой производительностью. Например, в игре Command & Conquer: Red Alert 2, при разрешении 800х600 и выше, прокрутка карты вызывает лаги в игре, а данная функция это устраняет.</p>
    <p><i>dgVoodoo Watermarl</i> - включает водяной знак с логотипом dgVoodoo в нижнем-правом углу экрана. Нужно только для того, чтобы убедиться что DgVoodoo работает (на скриншоте с Resident Evil 4 можно увидеть пример).</p>
    <p>В программе имеются и продвинутые настройки, которые можно настраивать только в конфигурационном файле <i>dgVoodoo.conf</i>, который автоматически создаётся в папке с игрой, после того как вы сохранили настройки в программе. Разбирать их мы не будем, так как я сам в них не разбираюсь, однако есть одна настройка, которая пригодится нам на планшетах чтобы использовать dgVoodoo вместе с <a href="#" class="load-link" data-href="gwg.html">GestureWorks Gameplay</a> или с <a href="#" class="load-link" data-href="comfort_keys.html">Comfort Keys Pro</a>. Без этой настройки работать они в паре с DgVoodoo не будут. Открывайте файл <i>dgVoodoo.conf</i> при помощи Блокнота и ищите в нём следующее:</p>
    <pre><code>DesktopResolution                    = 
DesktopBitDepth                      = 
DeframerSize                         = 1
ImageScaleFactor                     = 1
CursorScaleFactor                    = 0
DisplayROI                           = 
Resampling                           = bilinear
PresentationModel                    = auto
ColorSpace                           = appdriven
FreeMouse                            = false
WindowedAttributes                   = 
FullscreenAttributes                 = 
FPSLimit                             = 0
Environment                          = 
SystemHookFlags                      = </code></pre>
      <p>Нам нужно вписать значение <i>fake</i> в строку <i>FullscreenAttributes</i>. Должно получиться вот так:</p>
<pre><code>DesktopResolution                    = 
DesktopBitDepth                      = 
DeframerSize                         = 1
ImageScaleFactor                     = 1
CursorScaleFactor                    = 0
DisplayROI                           = 
Resampling                           = bilinear
PresentationModel                    = auto
ColorSpace                           = appdriven
FreeMouse                            = false
WindowedAttributes                   = 
FullscreenAttributes                 = fake
FPSLimit                             = 0
Environment                          = 
SystemHookFlags                      = </code></pre>
<p>После этого игра будет запускаться в оконном безрамочном режиме, в котором <a href="#" class="load-link" data-href="gwg.html">GestureWorks Gameplay</a> и <a href="#" class="load-link" data-href="comfort_keys.html">Comfort Keys Pro</a> отлично работают. Однако стоит отметить, что не все игры будут корректно работать в окне. Больше всего страдают 2D игры, зачастую их движки не писались с расчётом на оконный режим отображения. Например, WarCraft II Battle.NET Edition после данных манипуляций хоть и работает, однако у него сбиваются координаты курсора мыши. При касании экрана реальное нажатие происходит значительно ниже и правее пальца. Или игра Command & Conquer: Red Alert 2. Изображение на вступительных заставках начинает как бы двоиться, а главное меню игры и вовсе зависает.</p>
<img src="cnc.png" alt="В Command & Conquer двоится изображение" title="Кликните по изображению для увеличения">
  </div>
  <script>
    const loadingOverlay = document.getElementById('loadingOverlay');
    const loadLinks = document.querySelectorAll('.load-link');

    loadLinks.forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        const targetHref = this.getAttribute('data-href');
        loadingOverlay.style.display = 'flex';
        window.location.href = targetHref;
      });
    });

  const images = document.getElementsByTagName('img');
  for (const image of images) {
    image.addEventListener('click', function() {
      loadingOverlay.style.display = 'flex';
      const originalImageURL = this.src;
      window.open(originalImageURL, '_blank');
    });
  }
  window.onfocus = function() {
      loadingOverlay.style.display = "none";
    }

  </script>

</body>

</html>