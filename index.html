<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>[R]an4erep</title>
    <link rel="import" href="test.html">
<style>
    body, html {
        width: 100%;
    }
    html {
        background: url(img/bg.jpg) no-repeat;
        background-size: cover;
        color: white;
        image-rendering: crisp-edges;
    }
    
     a {
        color: #789ed4;
    }
    li {
       margin-bottom: 5px;
    }
    #logo {
        font-size: 25px;
        text-align: center;
        width: 260px;
        height: 90px;
        margin-left: 0px;
    }
    #logoText {
        position: relative;
        top: -10px;
    }
    #header {
        display: flex;
       /* justify-content: space-between;*/
    }
    .buttons {
        width: auto;
        height: 25px;
        border-radius: 10px;
        outline: none;
        margin-top: 5px;
        margin-left: 2px;
        background: #092141;
        border: 1px inset #4294b1;
        box-shadow: 0 0 10px rgba(66,148,177,0.8);
    }
    .buttons:active {
        background: #070020;
    }
    #topMenu {
       margin-left: 20px;
        height: 90px;
    }
    .buttons a {
        text-decoration: none;
        color: white;
    }
    #leftSide {
        width: 20%;
        /*height: 400px;*/
        margin-top: 10px;
        background: linear-gradient(to top, #4294b1, #255391, #092141);
        border-radius: 10px;
        border: 1px outset #4294b1;
        margin-right: 5px;
    }
    .lastYouTubeVideo {
        position: relative;
        width: 100%;
        padding-bottom: 56.25%;
        height: 0;
    }
    .lastYouTubeVideo iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    #playerBG {
        left: 20px;
        position: absolute;
        border: 1px solid #4294b1;
        width: 150px;
        height: 20px;
    }
    #playerProgressBar {
        left: 20px;
        position: absolute;
        border: 1px solid #4294b1;
        width: 150px;
        height: 20px;
        background: #092141;
    }
    #player .ui {
     color: #4294b1;
     position: relarive;
    }
    #playerPosition {
        width:150px;
        height: 20px;
    }
    #player {
    transform: scale(1.2);
    width: 150px;
    height: 50px;
    left: 200px;
    }
    .playerButtons {
        background: #092141;
        color: white;
        border: 1px inset #4294b1;
        outline: none;
        border-radius: 3px;
        padding-top: 3px;
    }
    .playerButtons:active {
        background: #070020;
    }
    #musicDescription {
        position: relative;
        width: 150px;
        left: 20px;
        top: 5px;
    }
    #main {
        margin-top: 10px;
        /*width: 840px;*/
       width: 78%;
    }
    #content {
        display: flex;
    }
    #gallery {
        position: relative;
        width: 100%;
        height: auto;
        display: flex;
/*
        border-top: 1px outset #4294b1;
        border-bottom: 1px solid #4294b1;
*/
    }
    #galleryImage {
        position: relative;
        width: 100%;
        height: auto;
        image-rendering: pixelated;
    }
       
    @keyframes slideLeft {
        50% {
            transform: translateX(-100%);
            opacity: 0.4;
        }
     }
    @keyframes slideRight {
        50% {
            transform: translateX(100%);
            opacity: 0.4;
        }
     }

    .galleryButtons {
        /*background: #092141;*/
        background: linear-gradient(to top, #4294b1, #255391, #092141);
        color: white;
        border: 1px outset #4294b1;
        outline: none;
        width: 40px;
        font-size: 30px;
        font-weight: bold;
    }
    .galleryButtons:active {
        color: #aaaaaa;
        /*background: #070020;*/
        background: linear-gradient(to top, #207290, #033170, #070020);
    }
    #galleryImageContainer {
        overflow: hidden;
    }
    #galleryDescription {
        position: absolute;
        color: white;
        top: 5px;
        left: 45px;
        background: rgba(66,148,177,0.7);
        border-radius: 5px;
    }
    
    #loader {
        position: absolute;
        z-index: 400;
        top: 150px;
        left: 350px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 10px solid #eeeeee;
        border-top: 10px solid #4294b1;
        animation: spin 2s linear infinite;
    }
    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    /*Place CSS code here*/
</style>
</head>
<body>
    
    <div id="header">
        <div id="logo">
            <a href="https://ran4erep.github.io"><img src="img/scull.png"></a>
            <span id="logoText">[&real;]an4erep</span>
            <br>
        
        </div>
        <div id="topMenu">
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/ide">Web IDE</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/calc">Калькулятор</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/cardgame">Clash of Memory</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/pixel">Пиксель-арт редактор</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/snake">Змейка</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/blitz">Статистика WoT Blitz</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/password">Генератор паролей</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/sokoban">Sokoban</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/scan">Скан-коды</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/colorclock">Цветные часы</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/qwerty">Heccrbq &rarr; Русский</a></button>
            <button class="buttons"><a target="_blank" href="http://ran4erep.github.io/picross">Пикросс (японский кроссворд)</a></button>
        </div>
    </div>
    <div id="content">
    <div id="leftSide">
        <div id="player" align="center">
           <span style="position: relative; font-size: 11px; left: 20px;">«Declare variables, not war»</span>
            <marquee id="musicDescription" behavior="scroll" direction="left" scrollamount="3">1/7: ran4erep — Final Fantasy VI Terras Theme Remix</marquee>
            <div id="playerPosition">
                 <div id="playerBG"></div>
                 <div id="playerProgressBar"></div>
                 <span style="position: absolute; left: 55px;" id="chrono"></span>
            </div>
           
            <div id="playerControls" style="position: relative; left: 15px; margin-top: 3px;">
                <button class="playerButtons ui" id="playerBackwardButton"><i class="fa fa-backward"></i></button>
                <button class="playerButtons ui" id="playerPlayButton"><i class="fa fa-play"></i></button>
                <button class="playerButtons ui" id="playerStopButton"><i class="fa fa-stop"></i></button>
                <button class="playerButtons ui" id="playerForwardButton"><i class="fa fa-forward"></i></button>
            </div>
            <audio id="currentMusic" src="music/ff6_remix.mp3"></audio>
            
        </div>
    <span style="position: relative; font-family: sans-serif; font-size: 14px; top: 60px; left: 20px;">
Я в социальных сетях:<br>
<ul>
<li><a class="socialLink" href="http://vk.com/idran4erep">ВКонтакте</a></li>
<li><a class="socialLink" href="http://youtube.com/youran4erep">YouTube</a></li>
<li><a class="socialLink" href="tg://resolve?domain=ran4erep">Telegram</a></li>
</ul>
    </span>
        Последнее видео в YouTube:<br>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/E8p_f1MvvAI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div id="main">
        <div id="gallery">
            <button class="galleryButtons" id="galleryLeftButton">&larr;</button>
            <div id="galleryImageContainer">
               <div id="loader"></div>
               <img id="galleryImage" src="img/gallery/abstraction.png"><div id="galleryDescription">1/13: Делал для челленджа на тему абстракции</div>
            </div>
            <button class="galleryButtons" id="galleryRightButton">&rarr;</button>
        </div>

    <!--Place for content-->
<pre style="font-size:12px;">
                                          ___                      
    |     '       /  |                   /   |                     
    /__      ___ (  /   _ __ __ _ _ __  / /| | ___ _ __ ___ _ __   
    \\--`-'-|`---\\ |  | '__/ _` | '_ \/ /_| |/ _ \ '__/ _ \ '_ \  
     |' _/   ` __/ /   | | | (_| | | | \___  |  __/ | |  __/ |_) | 
     '._  W    ,--'    |_|  \__,_|_| |_|   |_/\___|_|  \___| .__/  
        |_:_._/                                            | |     
                                                           |_|     
</pre>
<span id="time"></span>
<div align="center">
Мой прогресс на <a href="https://www.codewars.com">CodeWars</a>:<br/>
<img src="https://www.codewars.com/users/ran4erep/badges/large">
</div>
<h1 style='text-align: center;'>Новости сайта</h1>
<h2 style='text-align: center;'>16.03.2019</h2>
Заменил тестовый контент (музыка и картинки) на настоящий. Исправил всякие баги, а также написал простой круговой CSS загрузчик для галереи, так как картинки не успевали загрузиться за пол секунды, пока происходит листание (оно и логично, кэп).
<h2 style='text-align: center;'>11.03.2019</h2>
Написал главную страницу для <a href='https://ran4erep.github.io'>ran4erep.github.io</a>:
<ul>
<li>Плеер для прослушивания моей музыки</li>
<li>Галерея для просмотра моих рендеров из Blender, фотографий, рисунков, да и просто разных картинок</li>
<li>Новости, в виде модального окна, где вы это сейчас читаете</li>
</ul>
Новости были написаны при помощи &lt;iframe&gt; тега, а бегущая строка в плеере была вообще написана при помощи тега &lt;marquee&;gt;, который отсутствует в спецификации, делая валидацию HTML страницы невозможной. Поступил я так лишь потому что не смог написать свой аналог тегу &lt;marquee&gt;, а «айфрейм» использовал потому что было Lenиvo писать собственную прокрутку для div’ов. 
    <hr>
    <div align="right" style="font-family: sans-serif; margin-right: 20px;">Designed for <img style="width: 15px; height: 15px;" src="img/chrome.svg"> Google Chrome browser<br>&copy; by &lt;--ran4erep--&lt;&lt;-, 2018-2019</div>
    </div>
    
    </div>
    
    <!--Place HTML code here-->
<script>
    
    //gallery
    var images = [
        {tag: "Делал для челленджа на тему абстракции", fileName: "abstraction.png"},
        {tag: "Делал для челленджа на тему шахматных фигур, но в итоге получилась такая <br>сценка", fileName: "chess.png"}, 
        {tag: "Чашка кофе", fileName: "coffee3.png"}, 
        {tag: "Чашка кофе выросла в такую полноценную сцену", fileName: "cup_final.png"}, 
        {tag: "Делал пистолет Desert Eagle по чертежу", fileName: "deagle.png"}, 
        {tag: "Украинский флаг, тренировался в создании материи и анимации ветра", fileName: "flag.png"}, 
        {tag: "Перенёс этот ASCII арт в 3D: cxxx];:;:;:;♥:;:;:;>", fileName: "knifehearth1.png"},
        {tag: "Перенёс этот ASCII арт в 3D: cxxx];:;:;:;♥:;:;:;>", fileName: "knifehearth2.png"},
        {tag: "Коробок спичек с текстурами, которые отснял камерой с настоящего коробка", fileName: "matches.png"},
        {tag: "Карта памяти спереди", fileName: "sd2.png"},
        {tag: "Карта памяти сзади", fileName: "sd1.png"},
        {tag: "Dark Souls II, Забытая Крепость", fileName: "bay.jpg"},
        {tag: "Dark Souls II, восславь Солнце!", fileName: "praise_the_sun.jpg"},
        {tag: "Тюльпан, который я нарисовал красками в New Art Academy", fileName: "HNI_0007.JPG"}
    ];
    var galleryImageContainer = document.getElementById("galleryImageContainer").innerHTML = "<div id=\"loader\"></div><img id=\"galleryImage\" src=\"img/gallery/" + images[0].fileName + "\"><div id=\"galleryDescription\">1/" + images.length + ": " + images[0].tag + "</div>"
    
    var galleryRoot = "img/gallery/";
    var currentImage = 0;
    var isAnimating = false;
    var image, loadedImages = 0;
    var isLoading = true;

    for (let i = 0; i < images.length; i++) { 
        image = document.createElement("img");
        image.onload = function() {
            loadedImages++;
            if (loadedImages === images.length) {
                document.getElementById("loader").style.display = "none";
                isLoading = false;
            }
        }
        image.src = galleryRoot + images[i].fileName;
    }

    galleryLeftButton.addEventListener("click", function() {
        if (!isAnimating && !isLoading) {
            document.getElementById("galleryDescription").innerHTML = "";
            isAnimating = true;
            currentImage--;
            if(currentImage < 0)
                currentImage = images.length - 1;
            document.getElementById("galleryImage").style.animation = "slideLeft 1s linear forwards";
            setTimeout(function() {
                document.getElementById("galleryImage").src = galleryRoot + images[currentImage].fileName;
            }, 500);
            setTimeout(function() {
                document.getElementById("galleryDescription").innerHTML = (currentImage + 1) + "/" + images.length + ": " +  images[currentImage].tag;
                document.getElementById("galleryImage").style.animation = "none";
                isAnimating = false;
            }, 1000);
        }
    });

    galleryRightButton.addEventListener("click", function() {
        if (!isAnimating && !isLoading) {
            document.getElementById("galleryDescription").innerHTML = "";
            isAnimating = true;
            currentImage++;
            if(currentImage > images.length - 1)
                currentImage = 0;
            document.getElementById("galleryImage").style.animation = "slideRight 1s linear forwards";
            setTimeout(function() {
                document.getElementById("galleryImage").src = galleryRoot + images[currentImage].fileName;
            }, 500);
            setTimeout(function() {
                document.getElementById("galleryDescription").innerHTML = (currentImage + 1) + "/" + images.length + ": " + images[currentImage].tag;
                document.getElementById("galleryImage").style.animation = "none";
                isAnimating = false;
            }, 1000);
        }
    });
    //player
    var tracks = [
        {name: "ran4erep — Final Fantasy VI Terras Theme Remix", fileName: "ff6_remix.mp3"},
        {name: "Remi & ran4erep — I Wanna Die", fileName: "i_wanna_die.mp3"},
        {name: "ran4erep — L Theme Violin", fileName: "l_theme_violin.mp3"},
        {name: "ran4erep — L Remix The Second", fileName: "l_remix_the_second.mp3"},
        {name: "ran4erep — Night Symphony", fileName: "night_symphony.mp3"},
        {name: "ran4erep — Tears of Love", fileName: "tears_of_love.mp3"},
        {name: "ran4erep — Война", fileName: "war.mp3"},
    ];
    var musicRoot = "music/";
    var currentTrack = 0;
    var isPlaying = false;
    playerBackwardButton.addEventListener("click", function() {
        isPlaying = false;
        document.getElementById("playerPlayButton").innerHTML = "<i class=\"fa fa-play\"></i>";
        currentTrack--;
        if (currentTrack < 0)
            currentTrack = tracks.length - 1;
        document.getElementById('currentMusic').src = musicRoot + tracks[currentTrack].fileName;
        document.getElementById('musicDescription').innerHTML = (currentTrack + 1) + "/" + tracks.length + ": " +  tracks[currentTrack].name;
        
    });
    playerForwardButton.addEventListener("click", function() {
        isPlaying = false;
        document.getElementById("playerPlayButton").innerHTML = "<i class=\"fa fa-play\"></i>";
        currentTrack++;
        if (currentTrack > tracks.length - 1)
            currentTrack = 0;
        document.getElementById('currentMusic').src = musicRoot + tracks[currentTrack].fileName;
        document.getElementById('musicDescription').innerHTML = (currentTrack + 1) + "/" + tracks.length + ": " + tracks[currentTrack].name;
        
    });
    playerPlayButton.addEventListener("click", function() {
        if (!isPlaying) {
            document.getElementById('currentMusic').play();
            document.getElementById("playerPlayButton").innerHTML = "<i class=\"fa fa-pause\"></i>";
        } else {
            document.getElementById('currentMusic').pause();
            document.getElementById("playerPlayButton").innerHTML = "<i class=\"fa fa-play\"></i>";
        }
        isPlaying = !isPlaying;
    });
    playerStopButton.addEventListener("click", function() {
        isPlaying = false;
        document.getElementById('currentMusic').currentTime = 0;
        document.getElementById('currentMusic').pause();
        document.getElementById("playerPlayButton").innerHTML = "<i class=\"fa fa-play\"></i>"
    });
   var player = setInterval(function() {
        let time = Math.round(document.getElementById("currentMusic").currentTime);
        let duration = Math.round(document.getElementById("currentMusic").duration);
        let timePlayed = Math.floor(time * 100 / duration);
        let progress = timePlayed * 150 / 100;
        let timeInMinutes = Math.floor(time / 60);
        let trackMinutes = Math.floor(duration / 60);
        let trackSeconds = Math.floor(duration%60);
        let timeInSeconds = Math.floor(time%60);
        if (timeInSeconds < 10)
            timeInSeconds = "0" + timeInSeconds;
        if (trackSeconds < 10)
            trackSeconds = "0" + trackSeconds;
        if (duration)
            document.getElementById("chrono").innerHTML =  timeInMinutes + ":" + timeInSeconds + " / " + trackMinutes + ":" + trackSeconds;
        document.getElementById("playerProgressBar").style.width = progress + "px";
        if (time === duration) {
            currentTrack++;
            if (currentTrack > tracks.length - 1)
                currentTrack = 0;
            document.getElementById('currentMusic').src = musicRoot + tracks[currentTrack].fileName;
            document.getElementById('musicDescription').innerHTML = (currentTrack + 1) + "/" + tracks.length + ": " + tracks[currentTrack].name;
            document.getElementById("currentMusic").play();
        }
    }, 1000);
    //clock
    function showTime() {
        var time = new Date();
        var h = time.getHours().toString();
        var m = time.getMinutes().toString();
        var s = time.getSeconds().toString();
        if (parseInt(s) < 10)
            s = "0" + s;
        if (parseInt(m) < 10)
            m = "0" + m;
        if (parseInt(h) < 10)
            h = "0" + h;
        document.getElementById("time").innerHTML = h + " : " + m + " : " + s;
    }
    showTime();
    var clock = setInterval(function () {
        showTime();
    }, 1000);
    //Place JS code here
</script>
</body>
</html>
